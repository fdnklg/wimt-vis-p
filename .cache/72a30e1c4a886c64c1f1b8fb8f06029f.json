{"dependencies":[{"name":"leaflet"},{"name":"jquery"},{"name":"./style.css"},{"name":"./leaflet.css"},{"name":"../../../preprocessing/data/ctComb.json"}],"generated":{"js":"\"use strict\";\n\nvar _leaflet = require(\"leaflet\");\n\nvar L = _interopRequireWildcard(_leaflet);\n\nvar _jquery = require(\"jquery\");\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _style = require(\"./style.css\");\n\nvar _style2 = _interopRequireDefault(_style);\n\nvar _leaflet2 = require(\"./leaflet.css\");\n\nvar _leaflet3 = _interopRequireDefault(_leaflet2);\n\nvar _ctComb = require(\"../../../preprocessing/data/ctComb.json\");\n\nvar _ctComb2 = _interopRequireDefault(_ctComb);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar config = {\n  access_token: \"pk.eyJ1IjoiZmFiaWFuZWhtZWwiLCJhIjoiY2phcXRyMWJzNWRleTJxbndnb2c5Z29hYiJ9.g2umKz1TwYsU1hKStpQd6A\",\n  params: Object.keys(_ctComb2.default.features[1].properties)\n};\n\nvar myLines = [{}];\nvar boundaries = new L.geoJson(myLines, {\n  onEachFeature: onEachFeature\n});\n\nvar mymap = L.map('map', {\n  center: [-33.931174, 18.506347],\n  zoom: 12\n});\n\nL.tileLayer('https://api.mapbox.com/styles/v1/mapbox/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {\n  id: 'dark-v9',\n  accessToken: config.access_token\n}).addTo(mymap);\n\n(0, _jquery2.default)(_ctComb2.default.features).each(function (key, data) {\n  boundaries.addData(data);\n});\n\nboundaries.addTo(mymap);\n\nvar $select = (0, _jquery2.default)('<select></select>').appendTo(\"#variables\").on('change', function () {\n  setParameter((0, _jquery2.default)(this).val());\n});\n\nconfig.params.forEach(function (param) {\n  (0, _jquery2.default)('<option></option>').text(param).attr('value', param).appendTo($select);\n});\n\nfunction setParameter(param) {\n  boundaries.eachLayer(function (layer) {\n    layer.setStyle({\n      fillColor: getColor(layer.feature.properties[param]),\n      weight: 0,\n      opacity: .5,\n      color: 'white',\n      fillOpacity: 0.8\n    });\n  });\n}\n\nfunction getColor(d) {\n\n  if (typeof d === 'string') {\n    return '#212121';\n  }\n\n  return d > 40 ? '#93EA87' : d > 35 ? '#6DDA90' : d > 30 ? '#4CC898' : d > 25 ? '#31B69C' : d > 20 ? '#22A39D' : d > 15 ? '#279098' : d > 10 ? '#337D8F' : d > 5 ? '#3D6A82' : d > 0 ? '#435771' : '#45455E';\n}\n\nvar legend = L.control({ position: 'bottomright' });\n\nlegend.onAdd = function (map) {\n\n  var div = L.DomUtil.create('div', 'info legend'),\n      grades = ['noData', 5, 10, 15, 20, 25, 30, 35, 40],\n      labels = [];\n\n  for (var i = 0; i < grades.length; i++) {\n    div.innerHTML += '<i style=\"background:' + getColor(grades[i] + 1) + '\"></i> ' + grades[i] + (grades[i + 1] ? '&ndash;' + grades[i + 1] + '<br>' : '+');\n  }\n\n  return div;\n};\n\nfunction highlightFeature(e) {\n  var layer = e.target;\n\n  console.log(layer);\n\n  if (!L.Browser.ie && !L.Browser.opera && !L.Browser.edge) {\n    layer.bringToFront();\n  }\n}\n\nfunction resetHighlight(e) {}\n\nfunction onEachFeature(feature, layer) {\n  layer.on({\n    mouseover: highlightFeature,\n    mouseout: resetHighlight\n  });\n}\n\nlegend.addTo(mymap);\nsetParameter(config.params[0]);"},"hash":"307af1bc51ae1df992197ab2a02719cb"}